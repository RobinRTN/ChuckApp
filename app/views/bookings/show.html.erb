<div class="container wrapper">
  <div class="px-3 pb-4 d-flex align-items-center">
    <% booking_option = @existing_user == "true" ? "yes" : "no" %>
    <%= link_to request.referer || bookings_path, class: "text-decoration-none" do %>
      <div class="back-btn me-3">
        <i class="fa-solid fa-arrow-left"></i>
      </div>
    <% end %>
    <h4 class="m-0"></h4>
  </div>



  <div class="mx-4">
    <div class="booking-show-client d-flex align-items-center">
      <h4 class="me-5"><%= @booking.client.full_name %></h4>
      <% if @booking.client.photo.attached? %>
        <%= cl_image_tag @booking.client.photo.key, crop: :fill, class: "avatar-large" %>
      <% else %>
        <% initials = "#{@booking.client.first_name[0]}#{@booking.client.last_name[0]}" %>
        <% color_variations = ['circle-pink', 'circle-green', 'circle-red', 'circle-orange'] %>
        <% circle_class = color_variations[@booking.client.id % color_variations.size] %>
        <div class="avatar-large">
          <div class="<%= circle_class %>"><%= initials %></div>
        </div>
      <% end%>
    </div>

    <div class="client-more-info">
      <p>Réservations effectuées: <%= @client_data_hash[:bookings_count].to_i %></p>
      <p>Total dépensé: <%= @client_data_hash[:revenues].to_i %></p>
    </div>
  </div>

  <div class="d-flex mt-3 mx-4 border-bottom pb-3">
    <div class="finish-details-card flex-column align-items-start justify-content-start">
      <p><i class="fa-solid fa-fire me-2"></i> <%= @booking.formule.name %></p>
      <p><i class="fa-solid fa-clock me-2"></i> <%= @booking.formule.duration %> minutes</p>
      <p class="btn-disponibilites"><i class="fa-solid fa-coins me-2"></i> <%= @booking.formule.price.to_i %> €</p>
      <p><i class="fa-solid fa-calendar me-2"></i> <%= l(@booking.start_time, format: '%A %d %B de %Hh%M').capitalize %> à <%= l(@booking.end_time, format: '%Hh%M') %></p>

    </div>
  </div>
